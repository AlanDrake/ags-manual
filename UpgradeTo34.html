<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Upgrading to AGS 3.4 &#8212; AGSHelp 3.4.1 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          AGS Manual</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="http://adventuregamestudio.co.uk/forums/index.php">AGS Forums</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">AGS Manual <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorial.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="EditorRoom.html">Room Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#show-this-room-s-control">Show this room’s control</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#properties-control">Properties control</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#edges">Edges</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#characters">Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#objects">Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#hotspot">Hotspot</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#walkable-areas">Walkable areas</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#walk-behinds">Walk-behinds</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#regions">Regions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="EditorCharacter.html">Character Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditingGUIs.html">GUI Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#gui-buttons">GUI buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#interface-text">Interface text</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#customized-text-windows">Customized Text Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#custom-inventory">Custom inventory</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#sliders">Sliders</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#text-boxes">Text Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#list-boxes">List Boxes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="EditorSprite.html">Sprite Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditorView.html">View Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditorInventoryItems.html">Inventory Items Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="OtherFeatures.html">Other Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RuntimeEngine.html">The run-time engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="GraphicsDriver.html">Graphics driver selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setup.html">Engine Setup Program</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ScriptingLanguage.html">Scripting Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scripting.html">Scripting Api</a></li>
<li class="toctree-l1"><a class="reference internal" href="Reference.html">Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="UpgradingFromPreviousVersion.html">Upgrading from a previous version</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Copyright.html">Copyright and terms of use</a></li>
<li class="toctree-l1"><a class="reference internal" href="AnonymousUsageInfo.html">Anonymous usage information</a></li>
<li class="toctree-l1"><a class="reference internal" href="Credits.html">Credits</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ContactingTheDevelopers.html">Contacting the developers</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Upgrading to AGS 3.4</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/UpgradeTo34.md.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="upgrading-to-ags-3-4">
<span id="upgrading-to-ags-3-4"></span><h1>Upgrading to AGS 3.4<a class="headerlink" href="#upgrading-to-ags-3-4" title="Permalink to this headline">¶</a></h1>
<p>AGS 3.4 introduces a number of significant enhancements to game creation
process.</p>
<p><strong>Building game for multiple platforms</strong></p>
<p>AGS can now compile and deploy your game for more than one target
platform. Currently Windows and Linux are officially supported, but
other may be added in following updates. Check the “Built target
platforms” option in the “Compiler” section of the General Settings.</p>
<p><strong>NOTE:</strong> for deploying your game for Linux you need to have a
Linux-related utilities to be placed in the “Linux” folder at your AGS
Editor installation. Those files are distributed along with the official
AGS release.</p>
<p><strong>Custom game resolution</strong></p>
<p>Your native game resolution can now be anything, not limited to
predefined variants anymore.</p>
<p>Similarily, the engine is now capable of running any game in any display
mode your system supports. To achieve this it uses scaling filter of
player’s choice, and additional simple image stretching when required.
The setup program has been altered to reflect this feature.</p>
<p><strong>Script API selector</strong></p>
<p>You can now choose the variant of Script API (built-in functions and
properties available for use) with two switches in the “Backwards
Compatibility” section of the General Settings.</p>
<p>One switch is called “Script API version” and defines the topmost level
of built-in script content that you want to enable for your project. It
is suggested to set this to the highest possible value. However, there
may be cases when you load an older project in the newer version of AGS,
and new built-in function names conflict with names in some of the
scripts you used in your project. In such cases you may decide between
fixing your script or lowering AGS API version. The latter will let you
compile game scripts without any changes, at the price of not being able
to use newer built-in functions.</p>
<p>Second switch is called “Script Compatibility Level” and defines the
lowest level of built-in content. It is useful if you wish to keep using
some of the old functions that were declared obsolete by newer version
of AGS. You do so by setting this switch to version that still had those
functions.</p>
<p><strong>NOTE:</strong> You may change those two settings anytime if you’d like to
experiment, or your plans has changed. It is recommended to do full game
rebuild after you do so though.</p>
<p><strong>Mutable custom properties</strong></p>
<p>Since introduction Custom Properties could not be changed at runtime,
they had to keep their default values set in the Editor throughout the
course of the game. Now this restriction was eliminated and you can
change any existing custom property in game script, using appropriate
SetProperty and SetTextProperty functions:</p>
<p><a class="reference external" href="Character#setproperty">Character.SetProperty</a>,
<a class="reference external" href="Character#settextproperty">Character.SetTextProperty</a>,
<a class="reference external" href="Hotspot#setproperty">Hotspot.SetProperty</a>,
<a class="reference external" href="Hotspot#settextproperty">Hotspot.SetTextProperty</a>,
<a class="reference external" href="InventoryItem#setproperty">InventoryItem.SetProperty</a>,
<a class="reference external" href="InventoryItem#settextproperty">InventoryItem.SetTextProperty</a>,
<a class="reference external" href="Object#setproperty">Object.SetProperty</a>,
<a class="reference external" href="Object#settextproperty">Object.SetTextProperty</a>,
<a class="reference external" href="Room#setproperty">Room.SetProperty</a>,
<a class="reference external" href="Room#settextproperty">Room.SetTextProperty</a></p>
<p>Besides, the number of properties is no longer limited by 30, you may
make as much of them as you need for your game.</p>
<p><strong>Extended WFN fonts</strong></p>
<p>WFN (bitmap fonts) can now have up to 256 characters (as opposed to
previously supported 128). You may need a specialized editor to create
such fonts (for example, there is a good Editor plugin around meant for
this task), and AGS will properly draw any of the 256 characters.</p>
<p><strong>New script features</strong></p>
<p>First of all, you can now create your own managed structs and objects of
their type in script. The difference from common structs is that you use
pointers to work with these objects, and can pass them around as
function parameters and function return values as well. <strong>IMPORTANT:</strong>
there is a big limitation for user-defined managed structs now, it is
that they themselves cannot have members of pointer types (or dynamic
arrays). We suppose that this restriction is only temporary and hope to
remove it in future updates.</p>
<p>You can now have some new forms of loop in your script, in addition to
previously existing <code class="docutils literal notranslate"><span class="pre">while</span></code>. First is <code class="docutils literal notranslate"><span class="pre">do..while</span></code> kind of loop that
always performs its commands at least once before checking end
condition, second is <code class="docutils literal notranslate"><span class="pre">for</span></code> loop that lets you initialize internal
variable, define end condition and write iteration - all in its header.
Another introduced command is <code class="docutils literal notranslate"><span class="pre">switch</span></code>. One <code class="docutils literal notranslate"><span class="pre">switch</span></code> can replace a long
list of <code class="docutils literal notranslate"><span class="pre">if</span></code> and <code class="docutils literal notranslate"><span class="pre">else</span> <span class="pre">if</span></code> blocks.</p>
<p>See: <a class="reference external" href="managedmodifier#switch-case-statements">switch</a>,
<a class="reference external" href="managedmodifier#dowhile">do..while</a>,
<a class="reference external" href="managedmodifier#for">for</a>,
<a class="reference external" href="managedmodifier#break">break</a>,
<a class="reference external" href="managedmodifier#continue">continue</a>,
<a class="reference external" href="managedmodifier#managed">managed</a>,
<a class="reference external" href="managedmodifier#new">new</a></p>
<p><strong>Custom Dialog Options rendering extended</strong></p>
<p>In the past the custom dialog rendering was strictly tied to mouse
movement and clicks. Now it is extended to give you more freedom in
setting it up.</p>
<p>Two more related callbacks are added: <code class="docutils literal notranslate"><span class="pre">dialog_options_repexec</span></code> - that is
an analogue of <code class="docutils literal notranslate"><span class="pre">repeatedly_execute</span></code> function, but is called only while
dialog options are displayed, and <code class="docutils literal notranslate"><span class="pre">dialog_options_key_press</span></code> function,
which is called whenever player presses a key when dialog options are on
screen.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">dialog_options_mouse_click</span></code> will now be called always, even if user
clicks on the option, but on other hand option won’t be run without
explicit command:
<a class="reference external" href="DialogOptionsRenderingInfo#runactiveoption">RunActiveOption</a>.</p>
<p>Along with RunActiveOption,
<a class="reference external" href="DialogOptionsRenderingInfo">DialogOptionsRenderingInfo</a>
struct received another member function:
<a class="reference external" href="DialogOptionsRenderingInfo#update">Update</a>. It forces options
GUI to redraw itself, hence may be used to implement custom animation,
or similar behavior.</p>
<p><strong>IMPORTANT:</strong> The <code class="docutils literal notranslate"><span class="pre">dialog_options_get_active</span></code> callback was deprecated
and won’t be called, at all. You will need to slightly change the logic
of your script. In most cases it may be enough to simply rename
<code class="docutils literal notranslate"><span class="pre">dialog_options_get_active</span></code> to <code class="docutils literal notranslate"><span class="pre">dialog_options_repexec</span></code>.</p>
<p><strong>NOTE:</strong> For backwards compatibility you may use an option in General
Settings called “Use old-style custom dialog options API”. This will
disable all the new stuff, but return <code class="docutils literal notranslate"><span class="pre">dialog_options_get_active</span></code> and
make <code class="docutils literal notranslate"><span class="pre">dialog_options_mouse_click</span></code> behave as it did before.</p>
<p>For detailed information see:
<a class="reference external" href="CustomDialogOptions">Custom dialog options rendering</a></p>
<p><strong>Some functions object-ised</strong></p>
<table border="1" class="docutils">
<thead>
<tr>
<th>obsolete function/variable</th>
<th>replace with</th>
</tr>
</thead>
<tbody>
<tr>
<td>GetRoomProperty</td>
<td><a href="Room#getproperty">Room.GetProperty</a></td>
</tr>
<tr>
<td>ProcessClick</td>
<td><a href="Room#processclick">Room.ProcessClick</a></td>
</tr>
</tbody>
</table><p><strong>REMINDER:</strong> you can also use “Script Compatibility Level” switch to
enable old functions.</p>
<p><strong>System limits update</strong></p>
<p>The maximal number of GUI Controls per GUI is no longer limited. The
maximal number of script modules is no longer limited.</p>
</div>


    </div>
      
  </div>
</div>
    

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, AGS Team.<br/>
      Last updated on Jul 29, 2018, 2:48:24 PM.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.<br/>
    </p>
  </div>
</footer>
    

  </body>
</html>