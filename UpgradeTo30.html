
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Upgrading to AGS 3.0 &#8212; AGSHelp 3.5.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Upgrading to AGS 3.1" href="UpgradeTo31.html" />
    <link rel="prev" title="Translations" href="Translations.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
    

      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="upgrading-to-ags-3-0">
<h1>Upgrading to AGS 3.0<a class="headerlink" href="#upgrading-to-ags-3-0" title="Permalink to this headline">¶</a></h1>
<p>If you’ve used AGS before, you’ll probably be a bit confused and perhaps
even taken aback by this new editor. But don’t worry, once you’ve got
used to it I’m sure you’ll agree that it’s a massive improvement over
the old one.</p>
<p>The best place to start is probably to flick through
<a class="reference internal" href="StartingOff.html"><span class="doc">the tutorial</span></a>, which has been updated for AGS 3 and by
following it through you should get a good feeling for how the editor
works.</p>
<p>The main changes are explained below:</p>
<p><strong>Interaction Editor</strong></p>
<p>The Interaction Editor has been removed from AGS 3.0. When you import
your game, AGS will attempt to convert all your interactions into
scripts. These should mostly just work, however there are a couple of
things you should be aware of:</p>
<p>1. Concurrency issues – that is, while a blocking script was running in
2.72 it was still possible for interactions to run at the same time if
they didn’t include any scripting. Now, that is no longer the case.<span class="raw-html-m2r"><br></span></p>
<ol class="arabic simple">
<li>Blocking interactions – in 2.72, a “Run Dialog” interaction, for
example, waits until the dialog has finished before moving onto the next
action. If you had a Run Dialog followed by a Change Room, then the
dialog would finish before the room change happened.<span class="raw-html-m2r"><br></span>
With scripting, you need to be careful because the dialog[x].Start()
command does not block; instead, it waits until the event script has
finished running before the dialog runs. This would mean that the room
change would not necessarily happen after the dialog.<span class="raw-html-m2r"><br></span>
To mitigate these types of problems, you can use an alternate solution
such as a <em>run-script</em> command at the end of the dialog to run the room
change.</li>
</ol>
<p><strong>Global Messages</strong></p>
<p>Global Messages are no longer supported and should be considered
obsolete – there’s really no need for them now that the interaction
editor has gone. Any global messages that you had will be retained and
will still work, however the AGS 3 editor provides no way to edit them.
If you need to change one, just replace the <code class="docutils literal notranslate"><span class="pre">DisplayMessage</span></code> command
with a normal <code class="docutils literal notranslate"><span class="pre">Display()</span></code> command.</p>
<p>As of 3.0.2, there is now a Global Variables editor in which you can
create global string variables, which provide all the functionality of
Global Messages and more.</p>
<p><strong>Saving and testing your game</strong></p>
<p>AGS 3.0 works slightly differently to previous versions in the way that
saving and testing games works. The Save option (Ctrl+S) is the
equivalent of the old “Quick Save” option – it will save your changes,
but not compile the EXE file.</p>
<p>The “Test game” option has become “Run” on the Build menu. This runs
your game with the new <a class="reference internal" href="Debuggingfeatures.html"><span class="doc">Script Debugger</span></a>,
which allows you to pause and step through the script in order to track
down problems.</p>
<p>The debugger always runs your game in a window, so if you want to test
it out full-screen there’s the “Run without debugger” option (Ctrl+F5)
to do so.</p>
<p>Use the “Build EXE” command (F7) when you want to create all the
compiled files to distribute your game.</p>
<p><strong>NOTE:</strong> When you use the Run command, your game EXE file does <strong>NOT</strong>
get built. AGS 3’s Run command is much faster than the old Test Game
command because it directly loads the files from the game folder
instead. If you want to build your game EXE, you need to use the “Build
EXE” command to do so.</p>
<p><strong>RawDraw scripting changes</strong></p>
<p>The RawDraw family of functions have finally been object-ised, and the
old versions are now obsolete. Support has been added to allow you to
RawDraw onto dynamic sprites as well as room backgrounds. As a result,
at first the new commands will seem more complicated than the old ones,
since you can no longer just do “RawDrawImage” to draw something onto
the room background.</p>
<p>Instead, there is a new
<a class="reference internal" href="DrawingSurfaceFunctions.html"><span class="doc">DrawingSurface</span></a> object which you do
the drawing onto. You get one of these by calling
<a class="reference internal" href="DynamicSprite.html"><span class="doc">DynamicSprite.GetDrawingSurface</span></a>
or
<a class="reference internal" href="Room.html"><span class="doc">Room.GetDrawingSurfaceForBackground</span></a>,
depending on what you want to draw onto; and you can then use the
various drawing surface methods to do your drawing.</p>
<p>You must call <a class="reference internal" href="DrawingSurfaceFunctions.html"><span class="doc">Release</span></a> on the surface
once you have finished drawing onto it, which tells AGS to update the
data in memory.</p>
<p>For examples, see the
<a class="reference internal" href="DrawingSurfaceFunctions.html"><span class="doc">DrawingSurface</span></a> function help pages.</p>
<p><strong>Other script changes</strong></p>
<p>Scripting hasn’t really changed in AGS 3. Two new features (extender
functions and dynamic arrays) have been added, but you shouldn’t need to
change any existing code.</p>
<p>The only breaking changes are as follows:<span class="raw-html-m2r"><br></span></p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">new</span></code> is now a reserved word. This means that if you had any
variables called “new” then your script will fail to compile. Just
rename the variable to something else.<span class="raw-html-m2r"><br></span></li>
<li>Because of the removal of some system limits, some of the AGS<em>MAX</em>
constants have been removed (since there is no sensible value for them
now that the limits have gone). This will probably only affect module
authors and is unlikely to affect your game. Specifically, the following
have been removed: AGS_MAX_GUIS, AGS_MAX_CHARACTERS,
AGS_MAX_VIEWS, AGS_MAX_LOOPS_PER_VIEW,
AGS_MAX_FRAMES_PER_LOOP.</li>
</ol>
</div>


          </div>
          
        </div>
      </div>
    

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
  </a>
</p>









<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Translations.html" title="previous chapter">Translations</a></li>
      <li>Next: <a href="UpgradeTo31.html" title="next chapter">Upgrading to AGS 3.1</a></li>
  </ul></li>
</ul>
</div><p>
  <a href="genindex.html">Index</a>

  
  <br>
  <br>
  <ul>
    
    
    


    
    

    <li class="source-link">
       <a href="https://github.com/adventuregamestudio/ags-manual/issues/new?title=%5BDiscussion%5D%20Upgrading%20to%20AGS%203.0&body=source%20is%20UpgradeTo30.md.%0A%23%23%23%0A"> Discuss this page</a>
    </li>
    <li class="source-link">
       <a href="https://github.com/adventuregamestudio/ags-manual/wiki/UpgradeTo30"> Edit this page</a>
    </li>

  </ul>
  <br>
  

</p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    
<div class="footer">&copy;2018, AGS Team<br>build date: Sep 12, 2018, 6:28:51 PM</div>
    

  </body>
</html>