<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Scripting Tutorial &#8212; AGSHelp 3.4.1 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Text Scripting Tutorial - Part 2" href="ScriptingTutorialPart2.html" />
    <link rel="prev" title="Scripting Language" href="ScriptingLanguage.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          AGS Manual</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="http://adventuregamestudio.co.uk/forums/index.php">AGS Forums</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">AGS Manual <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="SystemRequirements.html">System Requirements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="StartingOff.html">Starting off</a></li>
<li class="toctree-l2"><a class="reference internal" href="Settingupthegame.html">Setting up the game</a></li>
<li class="toctree-l2"><a class="reference internal" href="AdvancedRoomFeatures.html">Advanced room features</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="EditorRoom.html">Room Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#show-this-room-s-control">Show this room’s control</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#properties-control">Properties control</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#edges">Edges</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#characters">Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#objects">Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#hotspot">Hotspot</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#walkable-areas">Walkable areas</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#walk-behinds">Walk-behinds</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#regions">Regions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="EditorCharacter.html">Character Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditingGUIs.html">GUI Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#gui-buttons">GUI buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#interface-text">Interface text</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#customized-text-windows">Customized Text Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#custom-inventory">Custom inventory</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#sliders">Sliders</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#text-boxes">Text Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#list-boxes">List Boxes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="EditorSprite.html">Sprite Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditorView.html">View Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditorInventoryItems.html">Inventory Items Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="OtherFeatures.html">Other Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="MusAndSound.html">Music and sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="DistGame.html">Distributing your game</a></li>
<li class="toctree-l2"><a class="reference internal" href="BackingUpYourGame.html">Backing up your game</a></li>
<li class="toctree-l2"><a class="reference internal" href="TextParser.html">The text parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="Translations.html">Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="GlobalVariables.html">Global variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="CustomProperties.html">Custom Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="Lipsync.html">Lip sync</a></li>
<li class="toctree-l2"><a class="reference internal" href="Templates.html">New Game templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="Debuggingfeatures.html">Debugging features</a></li>
<li class="toctree-l2"><a class="reference internal" href="AutonumberSpeechFiles.html">Auto-number speech files</a></li>
<li class="toctree-l2"><a class="reference internal" href="IntegrationWithWindows.html">Integration with Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="SourceControl.html">Source Control integration</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RuntimeEngine.html">The run-time engine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="TheDemoGame.html">The demo game</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="GraphicsDriver.html">Graphics driver selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setup.html">Engine Setup Program</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="ScriptingLanguage.html">Scripting Language</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Scripting tutorial part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="ScriptingTutorialPart2.html">Scripting tutorial part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pointers.html">Pointers in AGS</a></li>
<li class="toctree-l2"><a class="reference internal" href="CallingGlobalFunctions.html">Calling global functions from local scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="TheScriptHeader.html">The script header</a></li>
<li class="toctree-l2"><a class="reference internal" href="StringFormats.html">String formatting</a></li>
<li class="toctree-l2"><a class="reference internal" href="ScriptModules.html">Multiple Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="BlockingScripts.html">Understanding blocking scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="DynamicArrays.html">Dynamic Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="ExtenderFunctions.html">Extender functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Gamevariables.html">Game variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Scripting.html">Scripting Api</a><ul>
<li class="toctree-l2"><a class="reference internal" href="TextScriptEvents.html">Predefined global script functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="RepExec.html">repeatedly</a></li>
<li class="toctree-l2"><a class="reference internal" href="CustomDialogOptions.html">Custom dialog options rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="BuiltInEnums.html">Built-in enumerated types</a></li>
<li class="toctree-l2"><a class="reference internal" href="managedmodifier.html">Script language keywords</a></li>
<li class="toctree-l2"><a class="reference internal" href="AudioChannel.html">AudioChannel functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="AudioClip.html">AudioClip functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Character.html">Character functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="DateTime.html">DateTime functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dialog.html">Dialog functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="DialogOptionsRenderingInfo.html">DialogOptionsRenderingInfo functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="DrawingSurfaceFunctions.html">DrawingSurface functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="DynamicSprite.html">DynamicSprite functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="File.html">File functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Game.html">Game / Global functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="GUI.html">GUI functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="GUIControl.html">GUI control functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Button.html">GUI Button functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="GUI.html">GUI InvWindow functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Label.html">GUI Label functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="ListBox.html">GUI List Box functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Slider.html">GUI Slider properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="TextBox.html">GUI Text Box functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Hotspot.html">Hotspot functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="InventoryItem.html">Inventory item functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Maths.html">Maths functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mouse.html">Mouse functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Multimedia.html">Multimedia functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Object.html">Object functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Overlay.html">Overlay functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="CyclePalette.html">Palette functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parser.html">Parser functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Region.html">Region functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="Room.html">Room functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="ShakeScreen.html">Screen functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Speech.html">Speech functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="String.html">String functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="System.html">System functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="DisplayAt.html">Text display / Speech functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="ViewFrame.html">ViewFrame functions and properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="SCUMM_VERBCOIN_GUI.html">SCUMM</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Reference.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="EventTypes.html">Event Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="SystemLimits.html">System limits</a></li>
<li class="toctree-l2"><a class="reference internal" href="KeyboardShortcuts.html">Keyboard Shortcuts</a></li>
<li class="toctree-l2"><a class="reference internal" href="ASCIIcodes.html">ASCII code table</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="UpgradingFromPreviousVersion.html">Upgrading from a previous version</a><ul>
<li class="toctree-l2"><a class="reference internal" href="UpgradingTo27.html">Upgrading to AGS 2.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradingTo271.html">Upgrading to AGS 2.71</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeTo30.html">Upgrading to AGS 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeTo31.html">Upgrading to AGS 3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeTo32.html">Upgrading to AGS 3.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeTo33.html">Upgrading to AGS 3.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeTo335.html">Upgrading to AGS 3.3.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeTo34.html">Upgrading to AGS 3.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="UpgradeTo341.html">Upgrading to AGS 3.4.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Copyright.html">Copyright and terms of use</a></li>
<li class="toctree-l1"><a class="reference internal" href="AnonymousUsageInfo.html">Anonymous usage information</a></li>
<li class="toctree-l1"><a class="reference internal" href="Credits.html">Credits</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ContactingTheDevelopers.html">Contacting the developers</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#"><strong>Scripting Tutorial</strong></a><ul>
<li><a class="reference internal" href="#the-basics">The Basics</a></li>
<li><a class="reference internal" href="#commands-explained">Commands Explained</a></li>
<li><a class="reference internal" href="#instances">Instances</a></li>
<li><a class="reference internal" href="#command-sequences">Command Sequences</a></li>
<li><a class="reference internal" href="#recap">Recap</a></li>
<li><a class="reference internal" href="#variables">Variables</a></li>
<li><a class="reference internal" href="#functions-that-return-a-value">Functions that return a value</a></li>
<li><a class="reference internal" href="#common-shortcuts">Common Shortcuts</a></li>
<li><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="ScriptingLanguage.html" title="Previous Chapter: Scripting Language"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Scripting Language</span>
    </a>
  </li>
  <li>
    <a href="ScriptingTutorialPart2.html" title="Next Chapter: Text Scripting Tutorial - Part 2"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Text Scriptin... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/ScriptingTutorialPart1.md.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="scripting-tutorial">
<span id="scripting-tutorial"></span><h1><strong>Scripting Tutorial</strong><a class="headerlink" href="#scripting-tutorial" title="Permalink to this headline">¶</a></h1>
<p>In AGS, all the interactivity in the game is handled using scripts.
They’re an essential part of game-making, so it’s important that we go
through how to use them.</p>
<div class="section" id="the-basics">
<span id="the-basics"></span><h2>The Basics<a class="headerlink" href="#the-basics" title="Permalink to this headline">¶</a></h2>
<p>Right, we’ll start off by doing something very simple - displaying a
message to the player when they click the Look icon on a hotspot.
Assuming that you’ve done the main AGS Tutorial, you should already have
created a script that looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">hDoor_Look</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;It&#39;s quite a large, ominous looking door.&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Let’s look at this in detail. “<em>function</em>” tells AGS that this is a
block of script code that will run when an event occurs. “<em>hDoor_Look</em>”
is the name of that event. The empty parentheses <em>( )</em> tell AGS that
this function takes no parameters (we’ll come to them later). Finally,
the curly brackets <em>{</em> and <em>}</em> define where this block of code starts
and ends. Anything that you put between the { and the } will be run when
this event is triggered.</p>
<p><em>Display</em> is the name of the built-in command that we’re going to run.
Then, in parenthesis we put the <em>parameters</em> to that command. Parameters
are extra pieces of information that the command needs to run – in this
case, it needs the message that we want to display.</p>
<p>Finally, we end the line with a semicolon. You use semicolons to tell
AGS that it’s the end of the command. Anything that you put after the
semicolon becomes a separate command, and you’ll usually do this on a
new line.</p>
<p>It’s important to mention here that lines beginning with a double-slash
<code class="docutils literal notranslate"><span class="pre">//</span></code> are <strong>comments</strong> - AGS will ignore them, they are just there to
help you remember what your script is doing. You can add comments to
your script simply by starting the line with the <code class="docutils literal notranslate"><span class="pre">//</span></code> symbol.</p>
</div>
<div class="section" id="commands-explained">
<span id="commands-explained"></span><h2>Commands Explained<a class="headerlink" href="#commands-explained" title="Permalink to this headline">¶</a></h2>
<p>Each different command you can use in the script is also called a
<strong>function</strong>. All the available commands are listed in the Scripting
part of the manual, which also tells you how to use them.</p>
<p>We want to display a message to the player, so we used the <em>Display</em>
function. Looking this up in the manual gives us the definition:</p>
<hr class="docutils" />
<p>Display (string message, …)
Displays a message to the screen. It will be displayed in
the standard message box, and centred in the middle of
the screen. (description continues…)</p>
<hr class="docutils" />
<p>The key point here is the part of the first line inside the brackets.
This is called the <strong>parameter list</strong> and defines what parameters you
give to the function.  A parameter is some information that the function
uses to decide what to do.<br>
Each parameter is listed, separated by commas. They can be one of the
following:</p>
<ul class="simple">
<li>string *name<br>
*This parameter is a string, ie. a piece of text. This means that
for this parameter you supply text, surrounded by double-quotes. For
example, <code class="docutils literal notranslate"><span class="pre">&quot;My</span> <span class="pre">text&quot;</span></code> .<br>
<em>name</em> is the name by which the parameter is referred to in the
function description, it is not relevant for writing your script.</li>
<li>int <em>name</em><br>
This parameter is an integer, ie. a numerical value. This means that
for this parameter you supply a number, for example <code class="docutils literal notranslate"><span class="pre">65</span></code>.</li>
<li>CHARID<br>
This parameter is a character script name. You need to supply the
script name of one of the game characters.</li>
<li>InventoryItem*<br>
This parameter is an inventory item. You need to supply the
inventory item you want to use.</li>
<li>…<br>
This parameter is optional, and can be of any type. You do not have
to supply it at all, but if you do the function description will
tell you what type of value to use.</li>
</ul>
<p>So, we know that our Display function needs a string and an optional
parameter. The description goes on to explain that the optional
parameter is used for advanced things like displaying variable values,
so we can ignore it for now.</p>
<p>To make our script call the function we write its name, then the
parameters inside brackets, and finally a semicolon. This is very
important, as without the semicolon the script won’t compile. Also, note
that we DO NOT write the parameter type (eg. “string” or “int”). So, we
can add this line to our script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Display</span><span class="p">(</span><span class="s2">&quot;It&#39;s quite a large, ominous looking door.&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>This is what we already did in the main tutorial, but having examined it
in more detail it should now make more sense why we’ve done it this way.</p>
</div>
<div class="section" id="instances">
<span id="instances"></span><h2>Instances<a class="headerlink" href="#instances" title="Permalink to this headline">¶</a></h2>
<p>The AGS script language is object-based. What this means is that many
commands are operated <strong>on</strong> something in the game. You should not
confuse <em>object-based</em> with room <em>objects</em>, they are entirely different
things. There is a script <strong>instance</strong> for each character in the game,
each object in the room, each hotspot, and so on.</p>
<p>The name by which you access an instance in the script is given in the
editor as the item’s <em>Script Name</em>. For example, assuming our main
character’s script name is cEgo, then his instance name will be <code class="docutils literal notranslate"><span class="pre">cEgo</span></code>.</p>
<p>To perform a command on something, you type its Script Name followed by
a dot, followed by the command name. When you type the dot, the AGS
Editor will automatically pop up a list of the available commands:</p>
<p><img alt="" src="_images/tut3.gif" /><br>
<em>The script editor’s auto-complete</em></p>
<p>You then choose the appropriate command, and place any parameters in
brackets, like we did above with the Display command. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cEgo</span><span class="o">.</span><span class="n">AddInventory</span><span class="p">(</span><span class="n">iKey</span><span class="p">);</span>
</pre></div>
</div>
<p>This will add the Key to the EGO character’s inventory. If you look up
<em>AddInventory</em> in the manual, you’ll find it takes two parameters, an
InventoryItem * and an <em>optional int</em>. The <em>InventoryItem*</em> means that
you need to supply the Script Name of the inventory item; this is
something you can set in the script editor.<br>
The <em>optional int</em> means that there is an extra parameter which you can
supply if you want to, but you don’t have to. In this case it allows you
to specify where in the character’s inventory list the new item should
be added, but we’re not concerned with that right now.</p>
<p>As well as all the individual character instances such as <em>cEgo</em>, there
is a special instance called <em>player</em>. This always corresponds to the
current player character, so if you just want to perform a command on
the player character (especially useful in games where the player can
control different characters) then you can use the <em>player</em> instance to
do so.</p>
</div>
<div class="section" id="command-sequences">
<span id="command-sequences"></span><h2>Command Sequences<a class="headerlink" href="#command-sequences" title="Permalink to this headline">¶</a></h2>
<p>Suppose we want the player to be given a pink poster when they look at
the hotspot, as well as displaying the message. Assuming we have an
inventory item set up to be the poster with the Script Name of <em>iPoster</em>
(see the main tutorial for how to do this), the script enables us to
easily make this happen.<br>
Our final script will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Display</span><span class="p">(</span><span class="n">It</span><span class="s1">&#39;s quite a large, ominous looking door.&quot;);</span>
<span class="n">cEgo</span><span class="o">.</span><span class="n">AddInventory</span><span class="p">(</span><span class="n">iPoster</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that the script system is case sensitive, so writing for example
<code class="docutils literal notranslate"><span class="pre">addinventory(iposter);</span></code> will not work.</p>
<p>The script commands are processed from top to bottom in the order that
you write them, so writing something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Display</span><span class="p">(</span><span class="s2">&quot;Why did the chicken cross the road?&quot;</span><span class="p">);</span>
<span class="n">Display</span><span class="p">(</span><span class="s2">&quot;Because he was bored.&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will mean that the player gets the two messages in the order you
specified.</p>
</div>
<div class="section" id="recap">
<span id="recap"></span><h2>Recap<a class="headerlink" href="#recap" title="Permalink to this headline">¶</a></h2>
<p>So, did you remember these vital points:</p>
<ul class="simple">
<li>Strings are surrounded by double-quote marks.</li>
<li>Semicolon after the closing bracket on each line.</li>
<li>The script is case sensitive.</li>
<li>To use an instance-based command, type the Script Name followed by a
dot, followed by the command name.</li>
<li>The <em>player</em> instance corresponds to the current player character.</li>
</ul>
</div>
<div class="section" id="variables">
<span id="variables"></span><h2>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h2>
<p>Scripts in AGS can use variables. A variable is an area of memory
storage that contains a value, which you can check and change with your
script.</p>
<p>To declare a variable, you write the variable type, followed by the
variable name, then a semicolon. The type is either “int”, “String”
(note the capital S) or “float”, and the name can be anything you like -
it is what you will use to refer to it later. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">myCounter</span><span class="p">;</span>
</pre></div>
</div>
<p>The variable name can only contain letters A-Z, a-z and the underscore
_ character.</p>
<p>You need to declare a variable before you can use it, so that the
compiler can spot any mistakes and knows what type of things you can
store in it.</p>
<p>Initially, your variable will have the value 0. Optionally, you can set
the starting value within the declaration, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">myCounter</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
<p>which would set it to contain the value 5 initially instead.</p>
<p><strong>Variable Scope</strong></p>
<p>An unfortunate side effect of the script’s attempt to emulate the ‘C’
language is variable scope. In short, this means that you need to place
your variable definitions OUTSIDE all the event handlers, otherwise
their values will keep getting reset.</p>
<p>So, to declare a variable for use by one of the room interaction
scripts, you need to place the definition <strong>above</strong> the main function
body.  So, it should look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">room</span> <span class="n">script</span> <span class="n">file</span>
<span class="nb">int</span> <span class="n">myCounter</span><span class="p">;</span>

<span class="p">(</span><span class="n">other</span> <span class="n">event</span> <span class="n">scripts</span><span class="p">)</span>

<span class="n">function</span> <span class="n">hDoor_Look</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;It&#39;s quite a large, ominous looking door.&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">(</span><span class="n">rest</span> <span class="n">of</span> <span class="n">file</span> <span class="n">follows</span><span class="p">)</span>
</pre></div>
</div>
<p>No script commands can be used outside functions (or AGS wouldn’t know
when to run them!) - only variable declarations are allowed there.</p>
<p><strong>Changing variables</strong></p>
<p>You can change the value of a variable very easily in the script -
simply write the variable name, the equals sign, then the new value,
followed by the semicolon. So:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myCounter</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<p>will change the value of our variable to be 10.</p>
<p>You can add to and subtract from a variable using the += and -=
operators. So, to add 3 to the current value of myCounter, do the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myCounter</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Checking variables</strong></p>
<p>Obviously we need a way to find out what value our variable contains,
otherwise it’s useless. We do this using conditional statements, called
<em>if</em> statements. An if statement looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">myCounter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>what this means is that if <em>myCounter</em> contains the value 5, then the
script inside the { } brackets will be run (which in this case changes
the value of <em>myCounter</em> to zero).<br>
If <em>myCounter</em> does not equal 5, the script inside the brackets is not
run and execution carries on from after the } .</p>
<p><strong>Note the double-equals in the if statement</strong>. In an “if” statement,
you ALWAYS use the double-equals operator, which compares the two
values. If you used a single equals it would set the value instead,
which will yield some strange results.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">==</span></code> is called an operator, because it performs an operation on the
two values. The following basic operators are available:</p>
<ul class="simple">
<li>==<br>
compares the two values, and proceeds if they are the same.</li>
<li>!=<br>
compares the two values, and proceeds if they are <strong>not</strong> the same.</li>
<li><p>&amp;lt;</p>
<br>
compares the two values, and proceeds if the left hand value is less
than the right hand value</li>
<li><p>&amp;gt;</p>
<br>
compares the two values, and proceeds if the left hand value is
bigger than the right hand value.</li>
<li><p>&amp;lt;</p>
=<br>
proceeds if the left hand value is equal to or less than the right
hand value</li>
<li><p>&amp;gt;</p>
=<br>
proceeds if the left hand value is equal to or bigger than the right
hand value</li>
</ul>
<p><strong>Putting it into practice</strong></p>
<p>Now let’s do something useful with our variable. Suppose that we want to
have different messages every time the player looks at the hotspot. So,
the first time they look it will describe it, then if they look again
they get a different message describing something in more detail. Our
code will want to look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;You see a bookshelf.&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;Looking closer, you see a book called Hamlet.&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;There is also a book called Harry Potter.&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;There is nothing else of interest on the shelf.&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">myCounter</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><em>myCounter</em> starts off set to 0, so the first time this script is called
it will run the first Display command, but not the others. Then, since 0
is less than 3, it will increase <em>myCounter</em> by 1, and since 0+1 = 1 it
now holds the value 1.<br>
Once the player has seen all the messages (<em>myCounter</em> == 3), it no
longer increases the value so if they click again they will keep getting
the final message.</p>
<p><strong>Global variables made easy</strong></p>
<p>Sometimes, you may want to set a variable value that can be shared
between a room script and your global script. There are two ways to do
this – you can export the variable from the global script and then
import it in the script header, but that’s a bit advanced for this
tutorial. A simpler way is to use one of the 300 GlobalInts, which use
the script functions SetGlobalInt and GetGlobalInt to access them. See
their manual descriptions for more information.</p>
</div>
<div class="section" id="functions-that-return-a-value">
<span id="functions-that-return-a-value"></span><h2>Functions that return a value<a class="headerlink" href="#functions-that-return-a-value" title="Permalink to this headline">¶</a></h2>
<p>When reading function descriptions in the manual, you will notice that
some of them say they return a value. For example,</p>
<hr class="docutils" />
<p>IsGamePaused ()
Returns 1 if the game is currently paused, or 0 otherwise.</p>
<hr class="docutils" />
<p>You use these much as you would use a literal value such as “9”. For
example, you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Put</span> <span class="n">the</span> <span class="k">return</span> <span class="n">value</span> <span class="n">into</span> <span class="n">our</span> <span class="n">variable</span>
<span class="n">myCounter</span> <span class="o">=</span> <span class="n">IsGamePaused</span><span class="p">();</span>
</pre></div>
</div>
<p>(OR)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Test</span> <span class="n">the</span> <span class="k">return</span> <span class="n">value</span> <span class="n">directly</span>
<span class="k">if</span> <span class="p">(</span><span class="n">IsGamePaused</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">myCounter</span> <span class="o">+=</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Be sure to remember the parenthesis ().</p>
</div>
<div class="section" id="common-shortcuts">
<span id="common-shortcuts"></span><h2>Common Shortcuts<a class="headerlink" href="#common-shortcuts" title="Permalink to this headline">¶</a></h2>
<p>The script system has a few nice shortcuts for common tasks which you
will find yourself using regularly.</p>
<p>Firstly, the ++ and – operators increase and decrease the variable by
1, respectively. So, the last part of our previous script could have
been written:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">myCounter</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also, the { } brackets are only needed if you are using more than one
command inside them. Since we have only one command, the
“my_counter++;” line, we can remove the { } completely and just be left
with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>
  <span class="n">myCounter</span><span class="o">++</span><span class="p">;</span>
</pre></div>
</div>
<p>However, this can lead to mistakes in scripts that are hard to spot, so
I would advise always using brackets just to be safe.</p>
<p>Finally, if you want to test whether a value is zero or not, you can
just write it as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span><span class="p">)</span>
  <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;counter is non-zero&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>which is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">myCounter</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
  <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;counter is non-zero&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="summary">
<span id="summary"></span><h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>We’ve covered the basics, so that hopefully you can now write a script
of your own. There are many more advanced features that the system can
do, but this should be enough to get you started.</p>
<p>When you’re ready, feel free to proceed to the
<a class="reference external" href="ScriptingTutorialPart2">Tutorial Chapter 2 - The Patronising Text Returns</a>
which covers more advanced topics.</p>
<p>Enjoy AGS!</p>
</div>
</div>


    </div>
      
  </div>
</div>
    

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, AGS Team.<br/>
      Last updated on Jul 30, 2018, 2:05:16 AM.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.<br/>
    </p>
  </div>
</footer>
    

  </body>
</html>