<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Upgrading to AGS 3.2 &#8212; AGSHelp 3.4.1 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          AGS Manual</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="http://adventuregamestudio.co.uk/forums/index.php">AGS Forums</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">AGS Manual <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorial.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="EditorRoom.html">Room Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#show-this-room-s-control">Show this room’s control</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#properties-control">Properties control</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#edges">Edges</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#characters">Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#objects">Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#hotspot">Hotspot</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#walkable-areas">Walkable areas</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#walk-behinds">Walk-behinds</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditorRoom.html#regions">Regions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="EditorCharacter.html">Character Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditingGUIs.html">GUI Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#gui-buttons">GUI buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#interface-text">Interface text</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#customized-text-windows">Customized Text Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#custom-inventory">Custom inventory</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#sliders">Sliders</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#text-boxes">Text Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="EditingGUIs.html#list-boxes">List Boxes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="EditorSprite.html">Sprite Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditorView.html">View Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="EditorInventoryItems.html">Inventory Items Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="OtherFeatures.html">Other Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RuntimeEngine.html">The run-time engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="GraphicsDriver.html">Graphics driver selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setup.html">Engine Setup Program</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ScriptingLanguage.html">Scripting Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scripting.html">Scripting Api</a></li>
<li class="toctree-l1"><a class="reference internal" href="Reference.html">Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="UpgradingFromPreviousVersion.html">Upgrading from a previous version</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Copyright.html">Copyright and terms of use</a></li>
<li class="toctree-l1"><a class="reference internal" href="AnonymousUsageInfo.html">Anonymous usage information</a></li>
<li class="toctree-l1"><a class="reference internal" href="Credits.html">Credits</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ContactingTheDevelopers.html">Contacting the developers</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Upgrading to AGS 3.2</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/UpgradeTo32.md.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="upgrading-to-ags-3-2">
<span id="upgrading-to-ags-3-2"></span><h1>Upgrading to AGS 3.2<a class="headerlink" href="#upgrading-to-ags-3-2" title="Permalink to this headline">¶</a></h1>
<p>AGS 3.2 contains some major changes, the main one being a completely new
way of scripting the game audio.</p>
<p><strong>Why a new audio system?</strong></p>
<p>In previous versions of AGS, sound and music was a pain to use. Although
it was very simple to script using commands like PlayMusic(5) and
PlaySound(10), the fact that it was so basic became a limitation.</p>
<p>What is music 5? Which sound effect is Sound 10? How are you supposed to
remember? It was all a bit chaotic and old-fashioned. Furthermore,
controlling the volume involved several different commands, making it
something of a black art.</p>
<p><strong>So what’s changed?</strong></p>
<p>The old commands like PlayMusic and PlaySound have been obsoleted now,
and replaced with a new object-based audio system. This means that audio
files are now represented by script instances in the game.</p>
<p>For example, in AGS 3.1.2, you might have done this:</p>
<p><code class="docutils literal notranslate"><span class="pre">PlaySound(10);</span> <span class="pre">//</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">an</span> <span class="pre">explosion</span></code></p>
<p>Now, with AGS 3.2 you would do it like this instead:</p>
<p><code class="docutils literal notranslate"><span class="pre">aExplosion.Play();</span></code></p>
<p><strong>So how do I name my audio files?</strong></p>
<p>There is a new “Audio” item in the project tree, which you now use to
manage your audio. By default, when you import your game from a previous
version of AGS, it will create audio clips with names like “aMusic5” and
“aSound30”, corresponding to their old names.</p>
<p>If you want the old-style commands like PlayMusic and PlaySound to
continue working, then <strong>you must not rename these audio clips</strong>. AGS
maintains a backwards compatibility layer by mapping the PlayMusic(X)
command to play an audio clip called “aMusicX”, and the PlaySound(X)
command to play a clip called “aSoundX”.</p>
<p>Otherwise, if you want to convert your scripts to the new audio system,
you can simply right-click and rename these audio clips as you see fit.</p>
<p><strong>There is now an AudioCache folder, do I still need the Sound and Music
folders?</strong></p>
<p>When you import an audio file into AGS, it makes a copy of it in the
AudioCache folder, but it also remembers where the file came from
originally. If the original file changes, AGS will automatically copy
the updated file into the AudioCache folder.</p>
<p>When you upgrade an old game, the original file location for where AGS
thinks your audio files came from is set to the “Sound” and “Music”
folders. Therefore, keeping these folders is advisable initially as it
allows you to continue to update the existing files in the same way you
always have done, and AGS will automatically pick up the changes.</p>
<p>But going forward, as you import new audio files, there’s no need to
have them in the Sound or Music folders; import them from wherever you
like.</p>
<p><strong>What about controlling the volume?</strong></p>
<p>Glad you asked! Instead of all those old commands like SetMusicVolume,
SetDigitalMasterVolume, etc, there is now simply one overall system
volume (<a class="reference external" href="System#volume">System.Volume</a>), and then each sound
that is playing has its own volume control as well. This is controlled
by the <a class="reference external" href="AudioChannel#volume">Volume property</a> on the audio
channel (see the <a class="reference external" href="MusAndSound">Audio page</a> for details on
this).</p>
<p>Finally, you can update the volume of one particular type of audio (eg.
sound, music) by using the
<a class="reference external" href="Multimedia#setaudiotypevolume">Game.SetAudioTypeVolume</a> command.</p>
<p><strong>Wait, what’s an audio channel?</strong></p>
<p>AGS uses two new concepts – Audio Clips (which represent a particular
sound file), and Audio Channels (which represent a currently playing
piece of audio). The reason for this distinction is that you might have
the same sound effect playing two or more times simultaneously, and
having Audio Channels allows you to control each one individually. The
<a class="reference external" href="MusAndSound">Audio page</a> describes this further.</p>
<p><strong>PlayAmbientSound is obsolete! How do I do ambient sounds?</strong></p>
<p>Ambient Sounds were a bit of an oddity in AGS, caused by the fact that
you couldn’t tell a PlaySound command to loop the sound. With the new
audio system, the <a class="reference external" href="AudioClip#play">Play command</a> has an
optional Repeat parameter, allowing you to specify whether it loops or
not.</p>
<p>The X/Y directional aspect of PlayAmbientSound is supported by the
<a class="reference external" href="AudioChannel#setroomlocation">SetRoomLocation</a> command on the
audio channel.</p>
<p><strong>Is there any new cool stuff that I can do?</strong></p>
<p>You can now adjust the left-right panning of audio, using the
<a class="reference external" href="AudioChannel#panning">AudioChannel.Panning</a> property. You
also have finer control over syncing up different pieces of audio,
through the ability to get and seek offsets more accurately.</p>
<p><strong>Has voice speech changed?</strong></p>
<p>No, speech is still handled the same way as in previous versions of AGS.
You still need the Speech folder within your game folder, and name the
files within it using the same naming convention as you always have
done.</p>
<p><strong>Where should I look for more info?</strong></p>
<p>See the <a class="reference external" href="MusAndSound">Audio help</a> for more information.</p>
</div>


    </div>
      
  </div>
</div>
    

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018, AGS Team.<br/>
      Last updated on Jul 29, 2018, 2:48:24 PM.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.<br/>
    </p>
  </div>
</footer>
    

  </body>
</html>