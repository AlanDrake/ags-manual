
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Dialog functions and properties &#8212; AGSHelp 3.5.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DialogOptionsRenderingInfo functions and properties" href="DialogOptionsRenderingInfo.html" />
    <link rel="prev" title="Debugging features" href="Debuggingfeatures.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
    

      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="dialog-functions-and-properties">
<span id="index-0"></span><h1>Dialog functions and properties<a class="headerlink" href="#dialog-functions-and-properties" title="Permalink to this headline">¶</a></h1>
<div class="section" id="displayoptions">
<span id="index-1"></span><h2>DisplayOptions<a class="headerlink" href="#displayoptions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>int Dialog.DisplayOptions(optional DialogOptionSayStyle)
</pre></div>
</div>
<p>Presents the options for this dialog to the user and waits until they
select one of them. The selected option number is returned.</p>
<p><strong>NOTE:</strong> This command does not run any dialog scripts, it simply
displays the options and waits for the player to choose one. To run the
dialog normally, use the <a class="reference internal" href="#"><span class="doc">Dialog.Start</span></a> command
instead.</p>
<p>This command is useful if you want to implement your own dialog system,
but still use the standard AGS dialog option selection screens.</p>
<p>The optional <em>DialogOptionSayStyle</em> parameter determines whether the
chosen option is automatically spoken by the player character. The
default is <em>eSayUseOptionSetting</em>, which will use the option’s “Say”
setting from the dialog editor. You can alternatively use <em>eSayAlways</em>,
which will speak the chosen option regardless of its setting in the
editor; or <em>eSayNever</em>, which will not speak the chosen option.</p>
<p>If the text parser is enabled for this dialog and the player types
something into it rather than selecting an option, the special value
<code class="docutils literal notranslate"><span class="pre">DIALOG_PARSER_SELECTED</span></code> will be returned, and AGS will have
automatically called <a class="reference internal" href="Parser.html"><span class="doc">Parser.ParseText</span></a> with
the player’s text. Therefore, you can call
<a class="reference internal" href="Parser.html"><span class="doc">Parser.Said</span></a> to process it.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>int result = dOldMan.DisplayOptions();
if (result == DIALOG_PARSER_SELECTED)
{
  Display(&quot;They typed something into the parser!!&quot;);
}
else
{
  Display(&quot;They chose dialog option %d.&quot;, result);
}
</pre></div>
</div>
<p>will show the options for dialog <em>dOldMan</em> and display a message
depending on what the player selected.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.0.2</strong> and later versions.</p>
<p><em>See Also:</em> <a class="reference internal" href="#"><span class="doc">Dialog.Start</span></a>,
<a class="reference internal" href="Parser.html"><span class="doc">Parser.ParseText</span></a></p>
<hr class="docutils" />
</div>
<div class="section" id="getoptionstate">
<span id="index-2"></span><h2>GetOptionState<a class="headerlink" href="#getoptionstate" title="Permalink to this headline">¶</a></h2>
<p><em>(Formerly known as global function GetDialogOption, which is now
obsolete)</em></p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Dialog.GetOptionState(int option)
</pre></div>
</div>
<p>Finds out whether an option in a conversation is available to the player
or not.</p>
<p>OPTION is the option number within the dialog, from 1 to whatever the
highest option is for that topic.</p>
<p>The return value can have the following values:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>eOptionOff
  The option is disabled - the player will not see it
eOptionOn
  The option is enabled - the player can now see and use it
eOptionOffForever
  The option is permanently disabled - no other command can ever turn
  it back on again.
</pre></div>
</div>
<p>These are the same as the options passed to Dialog.SetOptionState.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>if (dJoeExcited.GetOptionState(2) != eOptionOn)
  Display(&quot;It&#39;s turned off&quot;);
</pre></div>
</div>
<p>Will display a message if option 2 of dialog dJoeExcited is not
currently switched on.</p>
<p><em>See Also:</em>
<a class="reference internal" href="#"><span class="doc">Dialog.HasOptionBeenChosen</span></a>,
<a class="reference internal" href="#"><span class="doc">Dialog.SetHasOptionBeenChosen</span></a>,
<a class="reference internal" href="#"><span class="doc">Dialog.SetOptionState</span></a></p>
<hr class="docutils" />
</div>
<div class="section" id="getoptiontext">
<span id="index-3"></span><h2>GetOptionText<a class="headerlink" href="#getoptiontext" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>String Dialog.GetOptionText(int option)
</pre></div>
</div>
<p>Returns the text for the specified dialog option.</p>
<p>OPTION is the option number within the dialog, from 1 to whatever the
highest option is for that topic.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>String optionText = dJoeBloggs.GetOptionText(3);
Display(&quot;Option 3 of dialog dJoeBloggs is %s!&quot;, optionText);
</pre></div>
</div>
<p>will display the text for the third option of the dJoeBloggs dialog.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.0.2</strong> and later versions.</p>
<p><em>See Also:</em> <a class="reference internal" href="#"><span class="doc">Dialog.OptionCount</span></a>,
<a class="reference internal" href="#"><span class="doc">Dialog.GetOptionState</span></a></p>
<hr class="docutils" />
</div>
<div class="section" id="hasoptionbeenchosen">
<span id="index-4"></span><h2>HasOptionBeenChosen<a class="headerlink" href="#hasoptionbeenchosen" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>bool Dialog.HasOptionBeenChosen(int option)
</pre></div>
</div>
<p>Finds out whether the player has already chosen the specified option in
this dialog. This is mainly useful when drawing your own custom dialog
options display, since it allows you to differentiate options that have
already been chosen.</p>
<p>OPTION is the option number within the dialog, from 1 to whatever the
highest option is for that topic.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>if (dJoeExcited.HasOptionBeenChosen(2))
  Display(&quot;The player has chosen option 2 in dialog dJoeExcited!&quot;);
</pre></div>
</div>
<p>will display a message if the player has used option 2 of the dialog
before.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.1.1</strong> and later versions.</p>
<p><em>See Also:</em> <a class="reference internal" href="#"><span class="doc">Dialog.GetOptionState</span></a>,
<a class="reference internal" href="#"><span class="doc">Dialog.SetHasOptionBeenChosen</span></a>,</p>
<hr class="docutils" />
</div>
<div class="section" id="index-5">
<span id="id"></span><h2>ID<a class="headerlink" href="#index-5" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>readonly int Dialog.ID;
</pre></div>
</div>
<p>Gets the dialog ID number from the editor.</p>
<p>This might be useful if you need to interoperate with legacy scripts
that work with dialog ID numbers.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Display(&quot;dFisherman is Dialog %d!&quot;, dFisherman.ID);
</pre></div>
</div>
<p>will display the ID number of the dFisherman dialog</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.1.0</strong> and later versions.</p>
<hr class="docutils" />
</div>
<div class="section" id="optioncount">
<span id="index-6"></span><h2>OptionCount<a class="headerlink" href="#optioncount" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>readonly int Dialog.OptionCount;
</pre></div>
</div>
<p>Gets the number of options that this dialog has.</p>
<p>This might be useful in a script module if you want to iterate through
all the possible choices in the dialog.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Display</span>(<span class="s">&quot;dFisherman has %d options!&quot;</span>, <span class="n">dFisherman</span>.<span class="n">OptionCount</span>);
</pre></div>
</div>
<p>will display the number of options in the dFisherman dialog.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.0.2</strong> and later versions.</p>
<p><em>See Also:</em> <a class="reference internal" href="#"><span class="doc">Dialog.GetOptionText</span></a>,
<a class="reference internal" href="#"><span class="doc">Dialog.GetOptionState</span></a></p>
<hr class="docutils" />
</div>
<div class="section" id="sethasoptionbeenchosen">
<span id="index-7"></span><h2>SetHasOptionBeenChosen<a class="headerlink" href="#sethasoptionbeenchosen" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Dialog.SetHasOptionBeenChosen(int option, bool chosen)
</pre></div>
</div>
<p>Changes whether an option in a conversation is marked as previously
chosen by the player. The option is marked as chosen whenever player
selects it during the conversation, and is usually highlighted with
different text colour. This function lets you to reset the option state,
or force it change at any random moment.</p>
<p>OPTION is the option number within the dialog, from 1 to whatever the
highest option is for that topic.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>if (dDialog1.HasOptionBeenChosen(1))
    dDialog1.SetHasOptionBeenChosen(1, false); // reset the option state
</pre></div>
</div>
<p>will mark option 1 of dialog dDialog1 as “not chosen yet”.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.3.0</strong> and later versions.</p>
<p><em>See Also:</em> <a class="reference internal" href="#"><span class="doc">Dialog.GetOptionState</span></a>,
<a class="reference internal" href="#"><span class="doc">Dialog.HasOptionBeenChosen</span></a></p>
<hr class="docutils" />
</div>
<div class="section" id="setoptionstate">
<span id="index-8"></span><h2>SetOptionState<a class="headerlink" href="#setoptionstate" title="Permalink to this headline">¶</a></h2>
<p><em>(Formerly known as global function SetDialogOption, which is now
obsolete)</em></p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Dialog.SetOptionState(int option, DialogOptionState)
</pre></div>
</div>
<p>Changes whether an option in a conversation is available to the player
or not. This allows you to add extra options to a conversation once the
player has done certain things.</p>
<p>OPTION is the option number within the topic, from 1 to whatever the
highest option is for that topic.</p>
<p>The DialogOptionState controls what happens to this option. It can have
the following values:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>eOptionOff
  The option is disabled - the player will not see it
eOptionOn
  The option is enabled - the player can now see and use it
eOptionOffForever
  The option is permanently disabled - no other command can ever turn
  it back on again.
</pre></div>
</div>
<p>These are equivalent to the option-off, option-on, and
option-off-forever dialog commands.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>if (GetGlobalInt(10)==1)
    dialog[4].SetOptionState(2, eOptionOn);
</pre></div>
</div>
<p>will enable option 2 of topic number 4 if the Global Integer 10 is 1.</p>
<p><em>See Also:</em> <a class="reference internal" href="#"><span class="doc">Dialog.GetOptionState</span></a>,
<a class="reference internal" href="#"><span class="doc">Dialog.Start</span></a>,
<a class="reference internal" href="#"><span class="doc">StopDialog</span></a></p>
<hr class="docutils" />
</div>
<div class="section" id="showtextparser">
<span id="index-9"></span><h2>ShowTextParser<a class="headerlink" href="#showtextparser" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>readonly bool Dialog.ShowTextParser;
</pre></div>
</div>
<p>Gets whether this dialog shows a text box allowing the player to type in
text.</p>
<p>This property is initially set in the Dialog Editor.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>if (dFisherman.ShowTextParser)
{
  Display(&quot;dFisherman has a text box!&quot;);
}
</pre></div>
</div>
<p>will display a message if dFisherman has the option enabled</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.2.1</strong> and later versions.</p>
<hr class="docutils" />
</div>
<div class="section" id="start">
<span id="index-10"></span><h2>Start<a class="headerlink" href="#start" title="Permalink to this headline">¶</a></h2>
<p><em>(Formerly known as global function RunDialog, which is now obsolete)</em></p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Dialog.Start()
</pre></div>
</div>
<p>Starts a conversation from the specified topic.</p>
<p>NOTE: The conversation will not start immediately; instead, it will be
run when the current script function finishes executing.</p>
<p>If you use this command from within the dialog_request function, it
will specify that the game should return to this new topic when the
script finishes.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>dMerchant.Start();
</pre></div>
</div>
<p>will start the conversation topic named dMerchant.</p>
<p><em>See Also:</em> <a class="reference internal" href="#"><span class="doc">Dialog.DisplayOptions</span></a>,
<a class="reference internal" href="#"><span class="doc">Dialog.SetOptionState</span></a></p>
<hr class="docutils" />
</div>
<div class="section" id="stopdialog">
<span id="index-11"></span><h2>StopDialog<a class="headerlink" href="#stopdialog" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>StopDialog ()
</pre></div>
</div>
<p>This command can only be used from within the dialog_request function.
It tells AGS that when dialog_request finishes, the whole conversation
should stop rather than continuing with the dialog script.</p>
<p>You can use this function to end the conversation depending on whether
the player has/does a certain thing.</p>
<p>Example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">dialog_request</span> <span class="p">(</span><span class="kr">int</span> <span class="nx">dr</span><span class="p">)</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">dr</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">cEgo</span><span class="p">.</span><span class="nx">AddInventory</span><span class="p">(</span><span class="nx">iPoster</span><span class="p">);</span>
  <span class="nx">StopDialog</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>will give the player the inventory item 3 and then end the conversation.</p>
<p><em>See Also:</em> <a class="reference internal" href="#"><span class="doc">Dialog.SetOptionState</span></a></p>
</div>
</div>


          </div>
          
        </div>
      </div>
    

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
  </a>
</p>









<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Debuggingfeatures.html" title="previous chapter">Debugging features</a></li>
      <li>Next: <a href="DialogOptionsRenderingInfo.html" title="next chapter">DialogOptionsRenderingInfo functions and properties</a></li>
  </ul></li>
</ul>
</div><p>
<a href="genindex.html">Index</a>
</p>
<h3>Table of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Dialog functions and properties</a><ul>
<li><a class="reference internal" href="#displayoptions">DisplayOptions</a></li>
<li><a class="reference internal" href="#getoptionstate">GetOptionState</a></li>
<li><a class="reference internal" href="#getoptiontext">GetOptionText</a></li>
<li><a class="reference internal" href="#hasoptionbeenchosen">HasOptionBeenChosen</a></li>
<li><a class="reference internal" href="#index-5">ID</a></li>
<li><a class="reference internal" href="#optioncount">OptionCount</a></li>
<li><a class="reference internal" href="#sethasoptionbeenchosen">SetHasOptionBeenChosen</a></li>
<li><a class="reference internal" href="#setoptionstate">SetOptionState</a></li>
<li><a class="reference internal" href="#showtextparser">ShowTextParser</a></li>
<li><a class="reference internal" href="#start">Start</a></li>
<li><a class="reference internal" href="#stopdialog">StopDialog</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    
<div class="footer">&copy;2018, AGS Team<br>build date: Aug 31, 2018, 1:54:36 AM</div>
    

  </body>
</html>